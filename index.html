<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>3D Astronaut with Joystick</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- A-Frame Core -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <!-- Joystick Controls -->
    <script src="https://cdn.jsdelivr.net/gh/jesusgollonet/aframe-joystick-controls@1.0.0/dist/aframe-joystick-controls.min.js"></script>

    <!-- Draco decoder -->
    <script src="https://www.gstatic.com/draco/v1/decoders/draco_decoder.js"></script>
    <script src="https://www.gstatic.com/draco/v1/decoders/draco_wasm_wrapper.js"></script>

    <!-- A-Frame Environment -->
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>

    <style>
      body { margin: 0; overflow: hidden; }
    </style>
  </head>

  <body>
    <a-scene
      renderer="colorManagement: true;"
      gltf-model="dracoDecoderPath: https://www.gstatic.com/draco/v1/decoders/">

      <!-- Assets -->
      <a-assets>
        <a-asset-item id="astronaut" src="blippar-webar-sdk/aframe/models/animated-astronaut/Animated-Astronaut-Character-in-Space-Suit-Loop.glb"></a-asset-item>
      </a-assets>

      <!-- Environment + Lighting -->
      <a-entity environment="preset: starry; ground: flat; grid: none;"></a-entity>
      <a-light type="ambient" intensity="1" color="#ffffff"></a-light>
      <a-light type="directional" intensity="0.6" position="1 3 2" target="#astronautModel"></a-light>

      <!-- Camera Rig with Joystick -->
      <a-entity id="cameraRig"
        position="0 1.6 5"
        movement-controls="enabled: true"
        joystick-controls="left: true; right: false">

        <a-camera look-controls="enabled: true"></a-camera>
      </a-entity>

      <!-- Animated Astronaut Model -->
      <a-entity
        id="astronautModel"
        gltf-model="#astronaut"
        position="0 0 0"
        scale="0.25 0.25 0.25"
        rotation="0 0 0"
        animation-mixer>

        <!-- Optional Auto-Rotation -->
        <a-animation
          attribute="rotation"
          to="0 360 0"
          dur="10000"
          repeat="indefinite">
        </a-animation>
      </a-entity>

    </a-scene>
  </body>
</html>
